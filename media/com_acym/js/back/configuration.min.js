/**
 * @package    AcyMailing for Joomla
 * @version    6.0.1
 * @author     acyba.com
 * @copyright  (C) 2009-2018 ACYBA S.A.R.L. All rights reserved.
 * @license    GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
 */

jQuery(document).ready(function(i){var e;i(".intext_select").select2({theme:"foundation",minimumResultsForSearch:1/0}),i("#cronsavereport").select2({theme:"foundation",width:"100%",minimumResultsForSearch:1/0}),i("#cronsendreport").select2({theme:"foundation",width:"100%",minimumResultsForSearch:1/0}),i("#smtp_secured").select2({theme:"foundation",width:"100%",minimumResultsForSearch:1/0}),i("#config_encoding").select2({theme:"foundation",width:"100%",minimumResultsForSearch:1/0}),i("#configcharset").select2({theme:"foundation",width:"100%"}),function(){var e=i('input[name="config[sending_platform]"]');e.on("change",function(){var e=i('input[name="config[sending_platform]"]:checked').val();"server"==e?(i('i[data-radio="config_mailer_methodelasticemail"], label[for="config_mailer_methodelasticemail"]').addClass("is-hidden"),i('i[data-radio="config_mailer_methodsmtp"], label[for="config_mailer_methodsmtp"]').addClass("is-hidden"),i('i[data-radio="config_mailer_methodqmail"], label[for="config_mailer_methodqmail"]').removeClass("is-hidden").show(),i('i[data-radio="config_mailer_methodsendmail"], label[for="config_mailer_methodsendmail').removeClass("is-hidden").show(),i('i[data-radio="config_mailer_methodphpmail"], label[for="config_mailer_methodphpmail"]').removeClass("is-hidden").show().click()):(i('i[data-radio="config_mailer_methodqmail"], label[for="config_mailer_methodqmail"]').addClass("is-hidden"),i('i[data-radio="config_mailer_methodsendmail"], label[for="config_mailer_methodsendmail').addClass("is-hidden"),i('i[data-radio="config_mailer_methodphpmail"], label[for="config_mailer_methodphpmail"]').addClass("is-hidden"),i('i[data-radio="config_mailer_methodelasticemail"], label[for="config_mailer_methodelasticemail"]').removeClass("is-hidden").show(),i('i[data-radio="config_mailer_methodsmtp"], label[for="config_mailer_methodsmtp"]').removeClass("is-hidden").show().click())});var t=i('input[name="config[mailer_method]"]:checked').val();"phpmail"==t||"sendmail"==t||"qmail"==t?i("#config_sending_platformserver").click():i("#config_sending_platformexternal").click(),e.trigger("change"),i("#config_mailer_method"+t).click()}(),(e=i('input[name="config[mailer_method]"]')).on("change",function(){i(".send_settings").hide();var e=i('input[name="config[mailer_method]"]:checked').val();"sendmail"==e&&i("#sendmail_settings").show(),"smtp"==e&&i("#smtp_settings").show(),"elasticemail"==e&&i("#elastic_settings").show()}),e.trigger("change"),i("#available_ports_check").off("click").on("click",function(e){e.preventDefault();var t=i(this).parent();t.html('<i class="fa fa-circle-o-notch fa-spin"></i>'),i.get(AJAX_URL_ACYM+"&ctrl=configuration&task=ports",function(i){t.html(i)})}),i(".acym_autoselect").off("click").on("click",function(){this.select()}),i("#timeoutcheck_action").off("click").on("click",function(e){e.preventDefault();try{i("#timeoutcheck").html('<i class="fa fa-circle-o-notch fa-spin"></i>'),i.get(AJAX_URL_ACYM+"&ctrl=configuration&task=detecttimeout",function(e){i("#timeoutcheck").html("Done!")})}catch(i){alert("Could not load the max execution time value : "+i)}}),i("#checkdb_button").off("click").on("click",function(e){e.preventDefault(),i("#checkdb_report").html('<i class="fa fa-circle-o-notch fa-spin"></i>'),i.get(AJAX_URL_ACYM+"&ctrl=configuration&task=checkDB",function(e){i("#checkdb_report").html(e)})}),function e(){i(".acym__configuration__mail-settings").is(":visible")&&(i.introContent=[{element:".acym__configuration__mail-settings",text:ACYM_JS_TXT.ACYM_INTRO_MAIL_SETTINGS,position:"top"},{element:".acym__configuration__advanced",text:ACYM_JS_TXT.ACYM_INTRO_ADVANCED,position:"top"}],i.setIntrojs("configuration__mail-settings")),i('[name="config[dkim]"]').on("change",function(){i.introContent=[{element:".acym__configuration__dkim",text:ACYM_JS_TXT.ACYM_INTRO_DKIM,position:"top"}],i.setIntrojs("configuration__dkim")}),i(".acym__configuration__cron").is(":visible")&&(i.introContent=[{element:".acym__configuration__cron",text:ACYM_JS_TXT.ACYM_INTRO_CRON}],i.setIntrojs("configuration__cron")),i(".acym__configuration__subscription").is(":visible")&&(i.introContent=[{element:".acym__configuration__subscription",text:ACYM_JS_TXT.ACYM_INTRO_SUBSCRIPTION}],i.setIntrojs("configuration__subscription")),i(".acym__configuration__check-database").is(":visible")&&(i.introContent=[{element:".acym__configuration__check-database",text:ACYM_JS_TXT.ACYM_INTRO_CHECK_DATABASE}],i.setIntrojs("configuration__check-database")),i(".acym_tab").on("click",function(){setTimeout(function(){e()},500)})}()});